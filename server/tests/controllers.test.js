
var controllers = require('../controllers.js')

valid_score =
{"nickname":"unittest","score":564,"max_number":64,"payload":{"moves":"1,3,1,0,2,3,1,0,3,0,1,1,0,3,1,0,3,1,0,2,3,1,2,3,1,0,2,3,1,0,3,1,0,3,1,0,3,0,1,3,0,1,3,0,1,2,3,1,0,2,3,1,0,2,3,0,1,3,0,1,3,0,1,3,0,1,3,2,1,3,1,2,3,1,3,1,0,3,1,0,3,1,0,3,1,2,3,1,2,3,1,0,3,1,0,3,1,0,3,1,2,3,1,2,3,1","seed":13953896517755506},"country":"us"};

invalid_country =
{"nickname":"unittest","score":564,"max_number":64,"payload":{"moves":"1,3,1,0,2,3,1,0,3,0,1,1,0,3,1,0,3,1,0,2,3,1,2,3,1,0,2,3,1,0,3,1,0,3,1,0,3,0,1,3,0,1,3,0,1,2,3,1,0,2,3,1,0,2,3,0,1,3,0,1,3,0,1,3,0,1,3,2,1,3,1,2,3,1,3,1,0,3,1,0,3,1,0,3,1,2,3,1,2,3,1,0,3,1,0,3,1,0,3,1,2,3,1,2,3,1","seed":13953896517755506},"country":"zx"};

invalid_score =
{"nickname":"unittest","score":90000,"max_number":64,"payload":{"moves":"1,3,1,0,2,3,1,0,3,0,1,1,0,3,1,0,3,1,0,2,3,1,2,3,1,0,2,3,1,0,3,1,0,3,1,0,3,0,1,3,0,1,3,0,1,2,3,1,0,2,3,1,0,2,3,0,1,3,0,1,3,0,1,3,0,1,3,2,1,3,1,2,3,1,3,1,0,3,1,0,3,1,0,3,1,2,3,1,2,3,1,0,3,1,0,3,1,0,3,1,2,3,1,2,3,1","seed":13953896517755506}};

invalid_score2 =
{"nickname":"unittest","score":564,"max_number":8192,"payload":{"moves":"1,3,1,0,2,3,1,0,3,0,1,1,0,3,1,0,3,1,0,2,3,1,2,3,1,0,2,3,1,0,3,1,0,3,1,0,3,0,1,3,0,1,3,0,1,2,3,1,0,2,3,1,0,2,3,0,1,3,0,1,3,0,1,3,0,1,3,2,1,3,1,2,3,1,3,1,0,3,1,0,3,1,0,3,1,2,3,1,2,3,1,0,3,1,0,3,1,0,3,1,2,3,1,2,3,1","seed":13953896517755506}};

invalid_score3 =
{"nickname":"刷完啦","score":92009,"max_number":8192,"payload":{"moves":"1,2,3,1,2,3,1,2,3,1,2,3,1,2,3,1,2,3,1,2,3,1,2,3,1,2,3,1,2,3,1,2,3,1,2,3,1,2,3,1,2,3,1,2,3,2,1,3,1,2,3,1,2,3,1,2,3,1,2,3,1,2,3,1,2,3,1,2,3,1,2,2,3,1,2,2,3,1,2,3,2,1,3,1,2,3,1,2,3,1,2,3,2,1,3,1,2,3,1,2,3,1,2,3,1,2,3,1,2,3,1,2,3,1,2,3,1,2,3,1,2,3,1,2,3,1,2,3,1,2,3,1,2,3,1,2,3,1,2,3,1,2,3,1,2,3,2,1,3,2,1,3,1,2,3,1,2,3,2,1,3,2,1,3,2,1,3,1,2,3,1,2,3,1,3,2,1,3,1,2,3,1,2,3,1,3,1,2,3,1,3,1,3,1,3,3,1,3,2,3,1,3,2,1,3,3,3,1,2,3,2,3,1,2,3,1,2,3,1,2,3,1,2,3,1,2,3,1,2,3,1,2,1,2,3,1,2,3,1,2,3,1,2,3,1,2,3,1,2,3,1,2,3,1,2,3,1,2,3,1,2,3,1,2,3,1,2,3,2,1,3,1,2,3,1,2,3,1,2,3,1,2,3,1,2,3,2,1,3,1,2,3,1,2,3,1,2,3,1,2,3,1,2,3,1,1,2,3,2,1,3,1,2,3,1,2,3,1,2","seed":13953877326954752}};

exports.testValid = function(test) {
  test.equal(
      "OK",
      controllers.validate(valid_score, 32)
  );
  test.done();
}

exports.testInvalidCountry = function(test) {
  test.equal(
      "INVALID_COUNTRY",
      controllers.validate(invalid_country, 32)
  );
  test.done();
}

exports.testInValid = function(test) {
  test.equal(
      "SCORE_NOT_MATCH",
      controllers.validate(invalid_score, 32)
  );
  test.done();
}

exports.testInValid2 = function(test) {
  test.equal(
      "SCORE_NOT_MATCH",
      controllers.validate(invalid_score2, 32)
  );
  test.done();
}

exports.testInValid3 = function(test) {
  test.equal(
      "SCORE_NOT_MATCH",
      controllers.validate(invalid_score3, 2048)
  );
  test.done();
}
